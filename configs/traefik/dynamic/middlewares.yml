http:
  middlewares:
    # Security Headers
    secure-headers:
      headers:
        browserXssFilter: true
        contentTypeNosniff: true
        forceSTSHeader: true
        stsIncludeSubdomains: true
        stsPreload: true
        stsSeconds: 31536000
        customFrameOptionsValue: "SAMEORIGIN"
    
    # Rate Limiting
    rate-limit:
      rateLimit:
        average: 100
        burst: 50
        period: 1s
    
    # Strict Rate Limiting for APIs
    rate-limit-strict:
      rateLimit:
        average: 20
        burst: 10
        period: 1s
    
    # Compression
    compression:
      compress: {}
    
    # Security Chain (Headers + Rate Limit + Compression)
    security-chain:
      chain:
        middlewares:
          - secure-headers
          - rate-limit
          - compression
    
    # NOTE: Basic Auth is configured via docker-compose labels using ENV variables
    # Example: traefik.http.middlewares.admin-auth.basicauth.users=${ADMIN_UI_AUTH}